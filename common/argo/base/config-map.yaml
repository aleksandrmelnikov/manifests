apiVersion: v1
kind: ConfigMap
metadata:
  name: workflow-controller-configmap
  namespace: onepanel
data:
  config: |
    executorImage: $(executorImage)
    containerRuntimeExecutor: $(containerRuntimeExecutor)
    artifactRepository:
      archiveLogs: true
      s3:
        keyFormat: {{workflow.namespace}}/{{workflow.name}}/{{pod.name}}
        bucket: $(artifactRepositoryBucket)
        keyFormat: artifacts/{{workflow.namespace}}/{{workflow.name}}/{{pod.name}}
        endpoint: $(artifactRepositoryEndpoint)
        insecure: $(artifactRepositoryInsecure)
        accessKeySecret:
          name: $(artifactRepositoryAccessKeySecretName)
          key: $(artifactRepositoryAccessKeySecretKey)
        secretKeySecret: 
          name: $(artifactRepositorySecretKeySecretName)
          key: $(artifactRepositorySecretKeySecretKey)